{"version":3,"sources":["assets/img/leaflet-icon/marker-icon.png","components/dashboard/constants.js","components/dashboard/MarkerCluster.js","components/dashboard/Leaflet.js","components/dashboard/ActiveUsersMap.js"],"names":["module","exports","customMarker","L","Icon","iconUrl","icon","iconSize","iconAnchor","popupAnchor","mcg","markerClusterGroup","chunkedLoading","spiderfyOnMaxZoom","MarkerCluster","markers","map","useLeaflet","useEffect","clearLayers","lat","long","name","street","location","popupContent","marker","LatLng","addTo","bindPopup","addLayer","propTypes","PropTypes","arrayOf","shape","number","isRequired","string","LeafletMap","mapWidth","mapHeight","isDark","useContext","AppContext","myFilterDark","myFilter","useRef","setTimeout","tileLayer","colorFilter","attribution","transparent","filter","current","leafletElement","Map","center","zoom","minZoom","maxZoom","zoomSnap","className","style","width","minHeight","ref","ActiveUsersMap","useState","duration","setDuration","setMapWidth","setMapHeight","mapRef","offsetWidth","offsetHeight","console","log","Card","CardHeader","UncontrolledDropdown","DropdownToggle","color","size","boundary","DropdownMenu","right","DropdownItem","divider","CardBody","innerRef","Leaflet","CardFooter","Row","Col","xs","CustomInput","type","bsSize","id","value","onChange","target","Button"],"mappings":"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","file":"static/js/12.107d3865.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=\"","import L from 'leaflet';\r\nimport icon from '../../assets/img/leaflet-icon/marker-icon.png';\r\n\r\nexport const customMarker = new L.Icon({\r\n  iconUrl: icon,\r\n  iconSize: [25, 41],\r\n  iconAnchor: [10, 41],\r\n  popupAnchor: [2, -40]\r\n});\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport L from 'leaflet';\r\nimport 'leaflet.markercluster/dist/leaflet.markercluster';\r\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\r\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css';\r\nimport { useLeaflet } from 'react-leaflet';\r\nimport { customMarker } from './constants';\r\n\r\nconst mcg = L.markerClusterGroup({\r\n  chunkedLoading: false,\r\n  spiderfyOnMaxZoom: false\r\n});\r\n\r\nconst MarkerCluster = ({ markers }) => {\r\n  const { map } = useLeaflet();\r\n\r\n  useEffect(() => {\r\n    mcg.clearLayers();\r\n    markers.map(({ lat, long, name, street, location }) => {\r\n      const popupContent = `\r\n        <h6 class=\"mb-1\">${name}</h6>\r\n        <p class=\"m-0 text-500\">${street}, ${location}</p>\r\n      `;\r\n      return L.marker(new L.LatLng(lat, long), {\r\n        icon: customMarker\r\n      })\r\n        .addTo(mcg)\r\n        .bindPopup(popupContent);\r\n    });\r\n\r\n    // optionally center the map around the markers\r\n    // map.fitBounds(mcg.getBounds());\r\n    // // add the marker cluster group to the map\r\n    map.addLayer(mcg);\r\n  }, [markers, map]);\r\n\r\n  return null;\r\n};\r\n\r\nMarkerCluster.propTypes = {\r\n  markers: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      lat: PropTypes.number.isRequired,\r\n      long: PropTypes.number.isRequired,\r\n      name: PropTypes.string.isRequired,\r\n      street: PropTypes.string,\r\n      location: PropTypes.string\r\n    }).isRequired\r\n  ).isRequired\r\n};\r\n\r\nexport default MarkerCluster;\r\n","import React, { useRef, useContext } from 'react';\r\nimport { Map } from 'react-leaflet';\r\n\r\nimport MarkerCluster from './MarkerCluster';\r\nimport { markers } from '../../data/dashboard/activeUsers';\r\nimport 'leaflet.tilelayer.colorfilter';\r\nimport L from 'leaflet';\r\nimport AppContext from '../../context/Context';\r\n\r\nconst LeafletMap = ({ mapWidth, mapHeight }) => {\r\n  const { isDark } = useContext(AppContext);\r\n  const myFilterDark = ['invert:98%', 'grayscale:69%', 'bright:89%', 'contrast:111%', 'hue:205deg', 'saturate:1000%'];\r\n  const myFilter = ['bright:101%', 'contrast:101%', 'hue:23deg', 'saturate:225%'];\r\n\r\n  let map = useRef(null);\r\n\r\n  if (mapWidth && mapHeight) {\r\n    setTimeout(() =>\r\n      L.tileLayer\r\n        .colorFilter('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\r\n          attribution: null,\r\n          transparent: true,\r\n          filter: isDark ? myFilterDark : myFilter\r\n        })\r\n        .addTo(map.current.leafletElement)\r\n    );\r\n    return (\r\n      <Map\r\n        center={[10.737, 0]}\r\n        zoom={0}\r\n        minZoom={1}\r\n        maxZoom={18}\r\n        zoomSnap={0.5}\r\n        className=\"h-100\"\r\n        style={{ width: '100%', minHeight: 300 }}\r\n        ref={map}\r\n      >\r\n        <MarkerCluster markers={markers} />\r\n      </Map>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default LeafletMap;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  CustomInput\r\n} from 'reactstrap';\r\n\r\nimport 'leaflet/dist/leaflet.css';\r\nimport LeafletMap from './Leaflet';\r\n\r\nconst ActiveUsersMap = () => {\r\n  const [duration, setDuration] = useState('week');\r\n  const [mapWidth, setMapWidth] = useState();\r\n  const [mapHeight, setMapHeight] = useState();\r\n\r\n  const mapRef = useRef();\r\n\r\n  // const handleHideWidth = () => {\r\n  //   setTimeout(() => {\r\n  //     setMapWidth(mapRef.current.offsetWidth);\r\n  //     setMapHeight(mapRef.current.offsetHeight);\r\n  //     console.log(mapRef.current.offsetHeight);\r\n  //   }, 1000);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setMapWidth(mapRef.current.offsetWidth);\r\n      setMapHeight(mapRef.current.offsetHeight);\r\n      console.log(mapRef.current.offsetHeight);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <Card className=\"h-100 mt-3 mt-lg-0\">\r\n      <CardHeader className=\"bg-light d-flex justify-content-between\">\r\n        <h5 className=\"mb-0\">Active users</h5>\r\n        <UncontrolledDropdown className=\"text-sans-serif\">\r\n          <DropdownToggle color=\"link\" size=\"sm\" className=\"text-600 dropdown-caret-none\" boundary=\"viewport\">\r\n            <FontAwesomeIcon icon=\"ellipsis-h\" className=\"fs--1\" />\r\n          </DropdownToggle>\r\n          <DropdownMenu className=\"border py-0\" right>\r\n            <div className=\"bg-white py-2\">\r\n              <DropdownItem>Edit</DropdownItem>\r\n              <DropdownItem>Move</DropdownItem>\r\n              <DropdownItem>Resize</DropdownItem>\r\n              <DropdownItem divider />\r\n              <DropdownItem className=\"text-warning\">Archive</DropdownItem>\r\n              <DropdownItem className=\"text-danger\">Delete</DropdownItem>\r\n            </div>\r\n          </DropdownMenu>\r\n        </UncontrolledDropdown>\r\n      </CardHeader>\r\n      <CardBody className=\"p-0 overflow-hidden position-relative h-100\" innerRef={mapRef}>\r\n        <LeafletMap mapWidth={mapWidth} mapHeight={mapHeight} />\r\n      </CardBody>\r\n      <CardFooter className=\"bg-light\">\r\n        <Row className=\"justify-content-between\">\r\n          <Col xs=\"auto\">\r\n            <CustomInput\r\n              type=\"select\"\r\n              bsSize=\"sm\"\r\n              id=\"selectDuration\"\r\n              value={duration}\r\n              onChange={({ target }) => setDuration(target.value)}\r\n            >\r\n              <option value=\"week\">Last 7 days</option>\r\n              <option value=\"month\">Last month</option>\r\n              <option value=\"year\">Last year</option>\r\n            </CustomInput>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            <Button color=\"falcon-default\" size=\"sm\">\r\n              <span className=\"d-none d-sm-inline-block mr-1\">Location</span>Overview\r\n              <FontAwesomeIcon icon=\"chevron-right\" className=\"ml-1 fs--1\" />\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ActiveUsersMap;\r\n"],"sourceRoot":""}